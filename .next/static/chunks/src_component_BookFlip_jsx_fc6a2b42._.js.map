{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///E:/brochureholobox/src/component/BookFlip.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\n\r\n\r\n// Load only on client side to avoid SSR errors\r\nconst HTMLFlipBook = dynamic(() => import(\"react-pageflip\"), { \r\n  ssr: false,\r\n  loading: () => <div className=\"w-[550px] h-[800px] bg-gray-200 animate-pulse rounded\"></div>\r\n});\r\n\r\n// Image-based page component\r\nconst ImagePage = React.forwardRef(({ src, index }, ref) => (\r\n    <div ref={ref} className=\"page\">\r\n        <img src={src} alt={`Page ${index + 1}`} className=\"w-full h-full object-cover\" />\r\n    </div>\r\n));\r\n\r\nconst BookReader = () => {\r\n    const book = useRef();\r\n    const [page, setPage] = useState(0);\r\n    const [isBookOpen, setIsBookOpen] = useState(false); // New state for open logic\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n    }, []);\r\n\r\n    // Prevent hydration mismatch by not rendering until mounted\r\n    if (typeof window === 'undefined') {\r\n        return null;\r\n    }\r\n\r\n    // Your demo image pages\r\n    const images = [\r\n        \"pages/01.webp\", // Cover\r\n        \"pages/02.webp\",\r\n        \"pages/03.webp\",\r\n        \"pages/04.webp\",\r\n        \"pages/05.webp\",\r\n        \"pages/06.webp\",\r\n        \"pages/07.webp\",\r\n        \"pages/08.webp\",\r\n        \"pages/09.webp\",\r\n        \"pages/10.webp\",\r\n        \"pages/11.webp\",\r\n        \"pages/12.webp\",\r\n        \"pages/13.webp\",\r\n        \"pages/14.webp\",\r\n    ];\r\n    const bookCover = \"/bookcover/online cover.png\"\r\n\r\n    const onFlip = (e) => {\r\n        setPage(e.data);\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     if (book.current) {\r\n    //         const pf = book.current.pageFlip();\r\n    //         setTotalPages(pf.getPageCount());\r\n    //     }\r\n    // }, []);\r\n\r\n    const next = () => book.current.pageFlip().flipNext();\r\n    const prev = () => book.current.pageFlip().flipPrev();\r\n\r\n    if (!isMounted) {\r\n        return (\r\n            <div className=\"min-h-screen overflow-hidden bg-gray-100 flex flex-col items-center justify-center p-8\">\r\n                <div className=\"w-[550px] h-[800px] bg-gray-200 animate-pulse rounded shadow-xl border border-gray-300\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen overflow-hidden bg-gray-100 flex flex-col items-center justify-center p-8\">\r\n            {!isBookOpen ? (\r\n                // ðŸ‘ˆ Show cover only if book is not open\r\n                <div\r\n                    onClick={() => setIsBookOpen(true)}\r\n                    className=\"cursor-pointer shadow-xl border border-gray-300   overflow-hidden\"\r\n                >\r\n                    <img\r\n                        src={bookCover}\r\n                        alt=\"Cover\"\r\n                        className=\"w-full h-full object-cover\"\r\n                    />\r\n                </div>\r\n            ) : (\r\n                // ðŸ‘ˆ Show FlipBook after click\r\n                <>\r\n                    <HTMLFlipBook\r\n                        width={550}\r\n                        height={800}\r\n                        size=\"stretch\"\r\n                        minWidth={315}\r\n                        maxWidth={1000}\r\n                        minHeight={500}\r\n                        maxHeight={1600}\r\n                        drawShadow={true}\r\n                        showCover={true}\r\n                        mobileScrollSupport={true}\r\n                        onFlip={onFlip}\r\n                        className=\"shadow-2xl border border-gray-300\"\r\n                        ref={book}\r\n                    >\r\n                        {images.map((src, i) => (\r\n                            <ImagePage key={i} src={src} index={i} />\r\n                        ))}\r\n                    </HTMLFlipBook>\r\n\r\n                    <div className=\"mt-8 space-x-6\">\r\n                        <button\r\n                            onClick={prev}\r\n                            className=\"px-4 py-3 bg-black text-white border rounded disabled:opacity-30\"\r\n                            disabled={page === 0}\r\n                        >\r\n                            Prev\r\n                        </button>\r\n                        <span className=\"text-sm text-gray-600\">\r\n                            Page {page + 1} of {images.length}\r\n                        </span>\r\n                        <button\r\n                            onClick={next}\r\n                            className=\"px-4 py-2 bg-black text-white border rounded disabled:opacity-30\"\r\n                            disabled={page === images.length - 1}\r\n                        >\r\n                            Next\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookReader;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;AAHA;;;AAMA,+CAA+C;AAC/C,MAAM,eAAe,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE;;;;;;IAC3B,KAAK;IACL,SAAS,kBAAM,6LAAC;YAAI,WAAU;;;;;;;KAF1B;AAKN,6BAA6B;AAC7B,MAAM,0BAAY,6JAAA,CAAA,UAAK,CAAC,UAAU,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,oBAChD,6LAAC;QAAI,KAAK;QAAK,WAAU;kBACrB,cAAA,6LAAC;YAAI,KAAK;YAAK,KAAK,CAAC,KAAK,EAAE,QAAQ,GAAG;YAAE,WAAU;;;;;;;;;;;MAFrD;AAMN,MAAM,aAAa;;IACf,MAAM,OAAO,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IAClB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,2BAA2B;IAChF,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,aAAa;QACjB;+BAAG,EAAE;IAEL,4DAA4D;IAC5D,uCAAmC;;IAEnC;IAEA,wBAAwB;IACxB,MAAM,SAAS;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IACD,MAAM,YAAY;IAElB,MAAM,SAAS,CAAC;QACZ,QAAQ,EAAE,IAAI;IAClB;IAEA,oBAAoB;IACpB,0BAA0B;IAC1B,8CAA8C;IAC9C,4CAA4C;IAC5C,QAAQ;IACR,UAAU;IAEV,MAAM,OAAO,IAAM,KAAK,OAAO,CAAC,QAAQ,GAAG,QAAQ;IACnD,MAAM,OAAO,IAAM,KAAK,OAAO,CAAC,QAAQ,GAAG,QAAQ;IAEnD,IAAI,CAAC,WAAW;QACZ,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAG3B;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACV,CAAC,aACE,yCAAyC;sBACzC,6LAAC;YACG,SAAS,IAAM,cAAc;YAC7B,WAAU;sBAEV,cAAA,6LAAC;gBACG,KAAK;gBACL,KAAI;gBACJ,WAAU;;;;;;;;;;mBAIlB,+BAA+B;sBAC/B;;8BACI,6LAAC;oBACG,OAAO;oBACP,QAAQ;oBACR,MAAK;oBACL,UAAU;oBACV,UAAU;oBACV,WAAW;oBACX,WAAW;oBACX,YAAY;oBACZ,WAAW;oBACX,qBAAqB;oBACrB,QAAQ;oBACR,WAAU;oBACV,KAAK;8BAEJ,OAAO,GAAG,CAAC,CAAC,KAAK,kBACd,6LAAC;4BAAkB,KAAK;4BAAK,OAAO;2BAApB;;;;;;;;;;8BAIxB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BACG,SAAS;4BACT,WAAU;4BACV,UAAU,SAAS;sCACtB;;;;;;sCAGD,6LAAC;4BAAK,WAAU;;gCAAwB;gCAC9B,OAAO;gCAAE;gCAAK,OAAO,MAAM;;;;;;;sCAErC,6LAAC;4BACG,SAAS;4BACT,WAAU;4BACV,UAAU,SAAS,OAAO,MAAM,GAAG;sCACtC;;;;;;;;;;;;;;;;;;;AAQzB;GApHM;MAAA;uCAsHS","debugId":null}}]
}